version: "2"
services:
  openhab:
    image: "openhab/openhab:2.3.0-armhf-debian"
    environment:
      - USER_ID=999
      - GROUP_ID=995
    network_mode: "host"
    restart: always
    tty: true
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /etc/timezone:/etc/timezone:ro
      - "openhab_conf:/openhab/conf"
      - "openhab_userdata:/openhab/userdata"
      - "openhab_addons:/openhab/addons"
    ports: 
      - "8080:8080"
      - "8433:8433"
  nodered:
    image: "nodered/node-red-docker:rpi"
    restart: always
    volumes:
      - "nodered_userdata:/data"
    ports: 
      - "1880:1880"

volumes:
  openhab_conf:
  openhab_userdata:
  openhab_addons:
  nodered_userdata: